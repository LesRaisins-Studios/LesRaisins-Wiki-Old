# 皮肤制作指南

## 开始之前
欢迎来到TaC-LesRaisins
本项目使用了一个非常简单粗暴的方式使tac可以通过资源包来加载皮肤  

请注意：  
1. 本指南不是资源包制作或者皮肤本身的绘制教程，而仅仅是将已经制作好的皮肤纹理与贴图实装进游戏的说明文档，请确保你在阅读本章节的内容掌握基础的资源包制作知识和相关概念;  
2. 由于本项目最初是为服务器服务的，更换皮肤需要修改枪械本身的nbt，目前还没有不开启作弊切换皮肤的途径。

## 制作一个枪械皮肤
未完成
## 描述文件格式
要让模组读取资源包里的枪械皮肤，需要在资源包里添加一个json文件以描述皮肤  
具体的路径为
`assets/<命名空间>/models/gunskin/skin.json`  
你可以这个文件放到任意一个命名空间的对应路径下，这会决定你接下来皮肤的命名空间。对于加载多个资源包的场合，后加载的资源包里同一把枪械的使用相同标识符的皮肤会覆盖先加载的。

当前版本的描述文件格式如下:
```json
{
  "<枪械标识符>": {
    "<皮肤标识符>": {
      <皮肤内容>
    },
    "<皮肤标识符>": {
      ...
    },
    ...
  },
  "<枪械标识符>": {
    ...
  },
  ...
}
```

其中，`标识符`相当于枪和皮肤的名字，对于同一把枪，任意两个皮肤的`标识符`不应该相同  
`部件名`是每一把枪械对于的一系列模型部件的代号。  

`皮肤内容`是对于某个具体皮肤的描述，具体格式如下：
```json
    "<皮肤标识符>": {
      "type": "<texture/custom>",   //必须,为 texture/custom 二者之一,决定该皮肤是否需要修改模型
      "textures": {                 //当且仅当类型为texture
        "<名称>": "<路径>"
      },
      "models": {                   //当且仅当类型为custom
        "<部件名>": "<路径>"
      },
      "icon": "<路径>"              //非必须,皮肤对应的武器图标,在右下角状态栏展示,这部分还没写完用不了()
    }
```
当皮肤类型为`texture`时,代表该皮肤不会修改默认模型而仅替换材质,此时会尝试使用`textures`内的材质列表覆盖枪械所有模型内的默认材质。

当皮肤类型为`models`时,代表该皮肤将会加载自定义模型,此时会尝试使用`models`里的模型覆盖默认模型;
如果`models`内提供了`auto`键,那么会自动尝试按照默认的模型文件命名格式加载所有模型`<主模型路径>_<部件名>`

具体每一把枪的`标识符`和`部件名`可以在[章节：模型部件列表](./gunskin_guide_model.md)中找到。

如果你的皮肤只有其中一部分的部件模型，那么只需要添加你需要替换的键值对即可，未作说明的其余部件将会自动使用枪械的默认皮肤。

以下是一个示例
```json
{
  "ak47": {
    "golden": {
      "type": "texture",
      "textures": {
        "0": "tac:gunskin/ak47/ak47_golden"
      },
      "icon": "tac:textures/gunskin/icon/ak47_golden.png"
    },
    "silver": {
      "type": "custom",
      "models": {
        "auto": "tac:gunskin/ak47/ak47_silver"
      },
      "icon": "tac:textures/gunskin/icon/ak47_silver.png"
    }
  },
  "其他的什么枪":{

  }
}
```

## 调用皮肤
贼简单,`/give @s tac:ak47{Skin:"<皮肤命名空间>:<皮肤标识符>"}`,可以不加命名空间,默认是`tac`,
比如有一把ak的皮肤,`skin.json`放在`tac`的命名空间里,比如上例中的黄金和白银ak,
就是`/give @s tac:ak47{Skin:"golden"}` `/give @s tac:ak47{Skin:"tac:silver"}`  
